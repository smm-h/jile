<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>A Guide to Fabric and Dye</title>
        <style>
</style>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        
        
        
    </head>
    <body class="vscode-body vscode-light">
        <h1 id="a-guide-to-fabric-and-dye">A Guide to Fabric and Dye</h1>
<h2 id="the-problem">The problem</h2>
<p>User interface objects, such as the instances of the subclasses of the <code>View</code> class, like <code>TreeView</code> and <code>CodeView</code>, and even the <code>Viewer</code> singleton itself, heavily rely on drawing various shapes and texts to convey meaning. It is impractical and unmaintainable for the classes to have fields for the exact colors of these elements for different situations such as &quot;dark mode&quot;, &quot;being selected&quot;, &quot;being hovered over&quot;, etc.</p>
<h2 id="the-solution">The solution</h2>
<p>This article discuess two classes that togather are used to create colors<sup>*</sup> that respond correctly to different situations:</p>
<ul>
<li>Fabric: a gray semi-transparent colorless texture.</li>
<li>Dye: an specific shade of a specific color.</li>
</ul>
<p>Fabrics alone can be used to make grayscale colors, but dyes alone cannot and should not be used to make color objects<sup>*</sup>.</p>
<p>Both classes are immutable, and all their methods are deterministic.</p>
<ul>
<li>*: <code>java.awt.Color</code></li>
</ul>
<h2 id="how-it-works">How it works</h2>
<p>Fabric objects and dye objects do not hold internal color fields. Instead, fabrics have <code>make()</code> methods, with the following signatures, that are used to create situation-specific colors.</p>
<ul>
<li><code>make()</code>: grayscale</li>
<li><code>make(boolean contrast)</code>: grayscale but with extra contrast</li>
<li><code>make(Dye dye)</code>: imbued</li>
<li><code>make(Dye dye, boolean contrast)</code>: imbued and with extra contrast</li>
</ul>
<p>They all return <code>Color</code>. Traditional colors are comprised of hue, saturation, brightness, and optionally transparency. Fabrics are solely responsible for the value of <em>transparency</em>, and dyes for <em>hue</em>. They both are responsible for value of the <em>saturation</em> and <em>brightness</em>.</p>
<p>If a dye is naturally dark, it will be light in dark mode, and vice-versa.</p>
<h2 id="dark-mode-flag">Dark mode flag</h2>
<p>Unlike the dye and the contrast flag which are passed to <code>make</code> to indicate a situation to react to, the dark mode indicating boolean flag is not passed to <code>make</code>, but read from the <code>darkMode</code> field of the <code>Views</code> singleton. It is recommended that you incorporate this hint into your app. For example it is common practice to bind <kbd>F9</kbd> to call <code>Views.toggleDarkMode()</code>.</p>

    </body>
    </html>